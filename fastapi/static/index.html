<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<body>
  <a href="#" onclick="eliminarProducto(16)" class="btn btn-danger"><i class="fas fa-trash"></i></a>

  <script>
    async function eliminarProducto(producto_id) {
      // Mostrar una ventana emergente para pedir confirmación
      const confirmar = confirm("¿Estás seguro de que deseas eliminar este producto?");
  
      if (confirmar) {
        // Enviar la solicitud "DELETE" si el usuario hace clic en "Aceptar"
        const response = await fetch(`/productos/${producto_id}`, {
          method: "DELETE",
        });
  
        if (response.ok) {
          window.location.href = "/Actualizado";
        } else {
          alert("Error al eliminar el producto");
        }
      } else {
        // Descartar la acción si el usuario hace clic en "Cancelar"
        alert("Acción descartada");
      }
    }
  </script>
</body>
</html>